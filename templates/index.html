{% extends "base.html" %}
{% block title %}Index Page{% endblock %}

{% block content %}
    <h1>Hello World</h1>
    <form method="POST" action="{{ url_for('index') }}">   
        <input type="text" name="username" placeholder="Username"><br>
        <input type="text" name="password" placeholder="Password"><br>
        <input type="submit" value="Login">
    </form>

    <h1>File Upload</h1>
    <form method="POST" action="{{ url_for('file_upload') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/pdf, text/plain" required="required"><br>
        <input type="submit" value="Upload File">
    </form>

    <h1>Convert CSV</h1>
    <form method="POST" action="{{ url_for('convert_csv') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.openxmlformats-officedocument" required="required"><br>
        <input type="submit" value="Upload File">
    </form>

    <h1>Convert CSV2</h1>
    <form method="POST" action="{{ url_for('convert_csv2') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.openxmlformats-officedocument" required="required"><br>
        <input type="submit" value="Upload File">
    </form>

    <h1>Javascript JSON Request</h1>
    <button id="post_button">Send POST Request</button>

    <h1>Image</h1>
    <img src="/img/dog.jpg" alt="Sample Image"/>

    <p class="special">Hello</p>

    <script src="/js/hello.js"></script>
    
    <script type="text/javascript">
        const postButton = document.getElementById('post_button');

        const jsonData = {name: "Dharshaan", greeting: "Hello"};

        postButton.addEventListener('click', () => {
            fetch('{{ url_for("handle_post") }}', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json; charset=utf-8'
                },
                body: JSON.stringify(jsonData)
            })
                .then(response => response.json())
                .then(data => console.log('Success:', data))
                .catch((error) => {
                console.error('Error:', error);
            }); 
        });
    </script>
{% endblock %}